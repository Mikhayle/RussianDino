(()=>{const e=new IntersectionObserver((function(e){window.innerWidth>1e3&&e.forEach((e=>{e.isIntersecting&&e.target.classList.add("element-show")}))}),{threshold:[.5]}),t=document.querySelectorAll(".element-animation");for(const s of t)e.observe(s)})();const e=document.querySelectorAll('a[href^="#"]');for(let t of e)t.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".lettering__list").classList.remove("active"),document.querySelector(".menu-burger").classList.remove("active")}));document.addEventListener("DOMContentLoaded",(()=>{const e=[].slice.call(document.querySelectorAll("video.lazy-video"));if("IntersectionObserver"in window){const t=new IntersectionObserver(((e,s)=>{e.forEach((e=>{if(e.isIntersecting){for(const t in e.target.children){const s=e.target.children[t];"string"==typeof s.tagName&&"SOURCE"===s.tagName&&(s.src=s.dataset.src)}e.target.load(),e.target.classList.remove("lazy-video"),t.unobserve(e.target)}}))}));e.forEach((e=>{t.observe(e)}))}})),document.querySelector(".menu-burger").addEventListener("touchstart",(()=>{document.querySelector(".menu-burger").classList.toggle("active"),document.querySelector(".lettering__list").classList.toggle("active")})),window.addEventListener("resize",(()=>{let e=.01*window.visualViewport.height;document.querySelector(".lettering__list").style.setProperty("--vh",`${e}px`)})),window.addEventListener("scroll",(function(){window.pageYOffset>300&&(document.querySelector(".lettering__list").classList.remove("active"),document.querySelector(".menu-burger").classList.remove("active"))}),!0);const t=document.querySelectorAll(".fix-block"),s=document.body;new class{constructor(e){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},e);const t=document.querySelector(".modal");this.modal=t,this.speed=!1,this.animation=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.focusElements=["a[href]","input","button","select","textarea","[tabindex]"],this.events()}events(){this.modal&&(document.addEventListener("click",function(e){const t=e.target.closest("[data-path]");if(t){let e=t.dataset.path,s=t.dataset.animation,o=t.dataset.speed;return this.animation=s||"fade",this.speed=o?parseInt(o):300,this.modalContainer=document.querySelector(`[data-target="${e}"]`),void this.open()}e.target.closest(".modal-close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)}.bind(this)),this.modal.addEventListener("click",function(e){e.target.classList.contains("modal-card")||e.target.closest(".modal-card")||!this.isOpen||this.close()}.bind(this)))}open(){this.previousActiveElement=document.activeElement,this.modal.style.setProperty("--transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((()=>{this.options.isOpen(this),this.modalContainer.classList.add("animate-open"),this.isOpen=!0,this.focusTrap()}),this.speed)}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap())}focusCatch(e){const t=this.modalContainer.querySelectorAll(this.focusElements),s=Array.prototype.slice.call(t),o=s.indexOf(document.activeElement);e.shiftKey&&0===o&&(s[s.length-1].focus(),e.preventDefault()),e.shiftKey||o!==s.length-1||(s[0].focus(),e.preventDefault())}focusTrap(){const e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?e[0].focus():this.previousActiveElement.focus()}disableScroll(){let e=window.innerWidth-document.body.offsetWidth+"px",o=window.scrollY;t.forEach((t=>{t.style.paddingRight=e})),s.style.paddingRight=e,s.classList.add("disable-scroll"),s.dataset.position=o,s.style.top=-o+"px"}enableScroll(){let e=parseInt(document.body.dataset.position,10);s.style.top="auto",s.classList.remove("disable-scroll"),t.forEach((e=>{e.style.paddingRight="0px"})),s.style.paddingRight="0px",window.scroll({top:e,left:0}),s.removeAttribute("data-position")}};if(document.querySelector(".portfolio-swiper-one")){new Swiper(".portfolio-swiper-one",{spaceBetween:25,wrapperClass:"portfolio-swiper-wrapper-one",slideClass:"portfolio-swiper-slide-one",loop:!0,grabCursor:!0,observer:!0,observeParents:!0,slidesPerView:1.2,navigation:{nextEl:".portfolio-button__next",prevEl:".portfolio-button__prev"},breakpoints:{500:{slidesPerView:1.5},1024:{slidesPerView:2,spaceBetween:30},1440:{slidesPerView:2.2},1920:{slidesPerView:2.7}}})}if(document.querySelector(".portfolio-swiper-two")){new Swiper(".portfolio-swiper-two",{spaceBetween:25,wrapperClass:"portfolio-swiper-wrapper-two",slideClass:"portfolio-swiper-slide-two",grabCursor:!0,loop:!0,observer:!0,observeParents:!0,slidesPerView:1.2,navigation:{nextEl:".portfolio-button__next",prevEl:".portfolio-button__prev"},breakpoints:{500:{slidesPerView:1.5},1024:{slidesPerView:2,spaceBetween:30},1440:{slidesPerView:2.2},1920:{slidesPerView:2.7}}})}if(document.querySelector(".work__swiper-one")){new Swiper(".work__swiper-one",{spaceBetween:30,wrapperClass:"work-swiper-wrapper-one",slideClass:"work__swiper-slide-one",slidesPerView:4,loop:!0,speed:7e3,autoplay:{delay:0},breakpoints:{768:{slidesPerView:5},1200:{slidesPerView:6}}})}if(document.querySelector(".work__swiper-two")){new Swiper(".work__swiper-two",{spaceBetween:30,wrapperClass:"work-swiper-wrapper-two",slideClass:"work__swiper-slide-two",loop:!0,slidesPerView:4,speed:7e3,autoplay:{delay:0,reverseDirection:!0},breakpoints:{768:{slidesPerView:5},1200:{slidesPerView:6}}})}if(document.querySelector(".about__swiper-one")){new Swiper(".about__swiper-one",{spaceBetween:10,wrapperClass:"about__swiper-wrapper-one",slideClass:"about__swiper-slide-one",slidesPerView:3,loop:!0,speed:1e4,autoplay:{delay:0,reverseDirection:!0},followFinger:!1,breakpoints:{768:{slidesPerView:5,spaceBetween:30},1200:{slidesPerView:6,spaceBetween:30}}})}if(document.querySelector(".about__swiper-two")){new Swiper(".about__swiper-two",{spaceBetween:10,wrapperClass:"about-swiper-wrapper-two",slideClass:"about__swiper-slide-two",loop:!0,slidesPerView:3,speed:1e4,autoplay:{delay:0},followFinger:!1,breakpoints:{768:{slidesPerView:5,spaceBetween:30},1200:{slidesPerView:6,spaceBetween:30}}})}const o=document.querySelector(".js-validate");if(o){if(o){new JustValidate(o).addField("#user-mail",[{rule:"required",errorMessage:"Электронная почта обязательна"},{rule:"email",errorMessage:"Электронная почта недействительна"}])}const e=[].slice.call(document.querySelectorAll(".new-input")),t=document.querySelector(".new-offer__btn");function i(){const s=e.filter((e=>""===e.value.trim())).length;t.disabled=0!==s}e.forEach((e=>{e.addEventListener("input",i,!1)})),i();const s=[].slice.call(document.querySelectorAll(".feedback-input")),n=document.querySelector(".feedback__btn");s.forEach((e=>{e.addEventListener("input",r,!1)}));const l=document.querySelector("#input-checkbox");function r(){const e=s.filter((e=>""===e.value.trim())).length;console.log(l.checked),n.disabled=0!==e||!l.checked}l.addEventListener("click",r),r();const a=document.querySelector(".js-validates");if(a){const e=new JustValidate(a);e.addField("#user-name",[{rule:"required",errorMessage:"Поле Имя не может быть пустым"}]),e.addField("#input-checkbox",[{rule:"required",errorMessage:"Согласие обязательно при отправке данных!"}])}}